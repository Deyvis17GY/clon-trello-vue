(function(e){function t(t){for(var r,o,i=t[0],l=t[1],u=t[2],c=0,d=[];c<i.length;c++)o=i[c],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&d.push(a[o][0]),a[o]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);f&&f(t);while(d.length)d.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],r=!0,o=1;o<n.length;o++){var i=n[o];0!==a[i]&&(r=!1)}r&&(s.splice(t--,1),e=l(l.s=n[0]))}return e}var r={},o={app:0},a={app:0},s=[];function i(e){return l.p+"js/"+({}[e]||e)+"."+{"chunk-b8742bd6":"d5059aa5"}[e]+".js"}function l(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.e=function(e){var t=[],n={"chunk-b8742bd6":1};o[e]?t.push(o[e]):0!==o[e]&&n[e]&&t.push(o[e]=new Promise((function(t,n){for(var r="css/"+({}[e]||e)+"."+{"chunk-b8742bd6":"49ce1fe5"}[e]+".css",a=l.p+r,s=document.getElementsByTagName("link"),i=0;i<s.length;i++){var u=s[i],c=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(c===r||c===a))return t()}var d=document.getElementsByTagName("style");for(i=0;i<d.length;i++){u=d[i],c=u.getAttribute("data-href");if(c===r||c===a)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var r=t&&t.target&&t.target.src||a,s=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=r,delete o[e],f.parentNode.removeChild(f),n(s)},f.href=a;var p=document.getElementsByTagName("head")[0];p.appendChild(f)})).then((function(){o[e]=0})));var r=a[e];if(0!==r)if(r)t.push(r[2]);else{var s=new Promise((function(t,n){r=a[e]=[t,n]}));t.push(r[2]=s);var u,c=document.createElement("script");c.charset="utf-8",c.timeout=120,l.nc&&c.setAttribute("nonce",l.nc),c.src=i(e);var d=new Error;u=function(t){c.onerror=c.onload=null,clearTimeout(f);var n=a[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+r+": "+o+")",d.name="ChunkLoadError",d.type=r,d.request=o,n[1](d)}a[e]=void 0}};var f=setTimeout((function(){u({type:"timeout",target:c})}),12e4);c.onerror=c.onload=u,document.head.appendChild(c)}return Promise.all(t)},l.m=e,l.c=r,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)l.d(n,r,function(t){return e[t]}.bind(null,r));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/clone-trello-vue/",l.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],c=u.push.bind(u);u.push=t,u=u.slice();for(var d=0;d<u.length;d++)t(u[d]);var f=c;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";n("64a9")},"158c":function(e,t,n){"use strict";n("5410")},"17ad":function(e,t,n){},"17ee":function(e,t,n){},5410:function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var r=n("2b0e"),o=n("ecee"),a=n("c074"),s=n("ad3d");o["c"].add(a["a"]),r["a"].component("AppIcon",s["a"]);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},l=[],u=(n("034f"),n("2877")),c={},d=Object(u["a"])(c,i,l,!1,null,null,null),f=d.exports,p=n("8c4f"),m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"board"},[n("div",{staticClass:"flex flex-row items-start"},[e._l(e.board.columns,(function(t,r){return n("BoardColumn",{key:r,attrs:{column:t,columnIndex:r,board:e.board}})})),n("div",{staticClass:"column flex"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newColumnName,expression:"newColumnName"}],staticClass:"p-2 mr-2 flex-grow",attrs:{type:"text",placeholder:"New Column"},domProps:{value:e.newColumnName},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.createColumn.apply(null,arguments)},input:function(t){t.target.composing||(e.newColumnName=t.target.value)}}})])],2),e.isTaskOpen?n("div",{staticClass:"task-bg",on:{click:function(t){return t.target!==t.currentTarget?null:e.closeTask.apply(null,arguments)}}},[n("router-view")],1):e._e(),n("div",{class:e.activeItemRemove,on:{dragover:[function(t){return t.stopPropagation(),e.activeRemove.apply(null,arguments)},function(e){e.preventDefault()}],dragleave:function(t){return t.target!==t.currentTarget?null:e.leaveRemove.apply(null,arguments)},drop:e.dropItem,dragenter:function(e){e.preventDefault()}}},[e._v("\n    Drag and drop items here to remove\n  ")]),n("div",{staticClass:"container-float"},[n("button",{staticClass:"upload",attrs:{title:"Import"},on:{click:e.activeInputUpload}},[n("input",{ref:"inputUpload",attrs:{type:"file",hidden:""},on:{change:e.uploadBdJson}}),n("svg",{staticClass:"icon icon-tabler icon-tabler-file-upload",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"}},[n("path",{attrs:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}}),n("path",{attrs:{d:"M14 3v4a1 1 0 0 0 1 1h4"}}),n("path",{attrs:{d:"M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z"}}),n("line",{attrs:{x1:"12",y1:"11",x2:"12",y2:"17"}}),n("polyline",{attrs:{points:"9 14 12 11 15 14"}})])]),n("button",{staticClass:"download",attrs:{title:"Download"},on:{click:e.downloadBdTaskColumns}},[n("svg",{staticClass:"icon icon-tabler icon-tabler-download",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"}},[n("path",{attrs:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}}),n("path",{attrs:{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2"}}),n("polyline",{attrs:{points:"7 11 12 16 17 11"}}),n("line",{attrs:{x1:"12",y1:"4",x2:"12",y2:"16"}})])])]),n("button",{staticClass:"removeTask",staticStyle:{display:"none"}}),n("Alert",{attrs:{value:e.textConfirm,timeSeconds:500,styleAlert:e.changeStyleConfirm}})],1)},v=[],h=(n("8e6e"),n("ac6a"),n("456d"),n("2fdb"),n("7f7f"),n("bd86")),b=n("2f62"),y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("AppDrop",{on:{drop:e.moveTaskOrColumn}},[n("AppDrag",{staticClass:"column",attrs:{transferData:{type:"column",fromColumnIndex:e.columnIndex}}},[e.column.name?n("div",{staticClass:"flex items-center mb-2 font-bold"},[e._v("\n      "+e._s(e.column.name)+"\n    ")]):e._e(),n("div",{staticClass:"list-reset"},[e._l(e.column.tasks,(function(t,r){return n("ColumnTask",{key:r,attrs:{task:t,columnIndex:e.columnIndex,taskIndex:r,column:e.column,board:e.board}})})),n("input",{staticClass:"block p-2 w-full bg-transparent",attrs:{type:"text",placeholder:"+ Enter new task"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.createTask(t,e.column.tasks)}}})],2)])],1)},k=[],g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("AppDrop",{on:{drop:e.moveTaskOrColumn}},[n("AppDrag",{staticClass:"task",attrs:{transferData:{type:"task",fromColumnIndex:e.columnIndex,fromTaskIndex:e.taskIndex}},on:{click:function(t){return e.goToTask(e.task)}}},[e.task?[n("span",{staticClass:"w-full flex-no-shrink font-bold"},[e._v("\n        "+e._s(e.task.name)+"\n      ")]),e.task?n("p",{staticClass:"ws-full flex-no-shrink mt-1 text-sm"},[e._v("\n        "+e._s(e.task.description)+"\n      ")]):e._e()]:e._e()],2)],1)},C=[],O=(n("c5f6"),{props:{column:{type:Object,required:!0},columnIndex:{type:Number,required:!0},board:{type:Object,required:!0}},methods:{moveTaskOrColumn:function(e){"task"===e.type?this.moveTask(e):this.moveColumn(e)},moveTask:function(e){var t=e.fromColumnIndex,n=e.fromTaskIndex,r=this.board.columns[t].tasks;this.$store.commit("MOVE_TASK",{fromTasks:r,fromTaskIndex:n,toTasks:this.column.tasks,toTaskIndex:this.taskIndex})},moveColumn:function(e){var t=e.fromColumnIndex;this.$store.commit("MOVE_COLUMN",{fromColumnIndex:t,toColumnIndex:this.columnIndex})}}}),T=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{draggable:""},on:{dragend:e.test,dragover:function(e){e.preventDefault()},dragenter:function(e){e.preventDefault()},dragstart:function(t){return t.target!==t.currentTarget?null:e.onDrag.apply(null,arguments)},click:e.emitClick}},[e._t("default")],2)},w=[];function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){Object(h["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var I={props:{transferData:{type:Object,required:!0}},computed:_({},Object(b["c"])(["board"])),methods:{onDrag:function(e){e.dataTransfer.effectAllowed="move",e.dataTransfer.dropEffect="move",e.dataTransfer.setData("payload",JSON.stringify(this.transferData))},test:function(e){},emitClick:function(){this.$emit("click")}}},j=I,E=Object(u["a"])(j,T,w,!1,null,null,null),A=E.exports,D=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{on:{drop:function(t){return t.stopPropagation(),e.onDrop.apply(null,arguments)},dragover:function(e){e.preventDefault()},dragenter:function(e){e.preventDefault()}}},[e._t("default")],2)},S=[],P={methods:{onDrop:function(e){e.preventDefault();var t=JSON.parse(e.dataTransfer.getData("payload"));this.$emit("drop",t)}}},N=P,M=Object(u["a"])(N,D,S,!1,null,null,null),R=M.exports,$={components:{AppDrag:A,AppDrop:R},mixins:[O],props:{task:{type:Object,required:!0},taskIndex:{type:Number,required:!0}},methods:{goToTask:function(e){this.$router.push({name:"task",params:{id:e.id}})}}},L=$,U=Object(u["a"])(L,g,C,!1,null,null,null),B=U.exports,J={components:{ColumnTask:B,AppDrag:A,AppDrop:R},mixins:[O],methods:{pickupColumn:function(e,t){e.dataTransfer.effectAllowed="move",e.dataTransfer.dropEffect="move",e.dataTransfer.setData("from-column-index",t),e.dataTransfer.setData("type","column")},createTask:function(e,t){e.target.value&&(this.$store.commit("CREATE_TASK",{name:e.target.value,tasks:t}),e.target.value="")}}},q=J,K=(n("f9e1"),Object(u["a"])(q,y,k,!1,null,null,null)),V=K.exports,z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container-alert",style:this.styleAlert,attrs:{role:"alert"}},[n("span",{staticClass:"block sm:inline"},[e._v(e._s(e.value))]),n("span",{staticClass:"absolute pin-b pin-r px-4 py-3"})])},H=[],F={props:{value:{type:String,default:"deleted task",required:!0},timeSeconds:{type:Number,required:!0},styleAlert:{type:Object,default:function(){return{opacity:0}}}}},G=F,Q=(n("dec5"),Object(u["a"])(G,z,H,!1,null,null,null)),W=Q.exports;function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){Object(h["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Z={components:{BoardColumn:V,Alert:W},computed:Y(Y({},Object(b["c"])(["board"])),{},{isTaskOpen:function(){return"task"===this.$route.name}}),data:function(){return{newColumnName:"",activeItemRemove:{removeTask:!0,activeItemRemove:!1},textConfirm:"",changeStyleConfirm:{opacity:0}}},methods:{closeTask:function(){this.$router.push({name:"board"})},createColumn:function(){this.newColumnName&&(this.$store.commit("CREATE_COLUMN",{name:this.newColumnName}),this.newColumnName="",this.alertConfirm("Column created"))},activeRemove:function(e){this.activeItemRemove.activeItemRemove=!0},leaveRemove:function(e){this.activeItemRemove.activeItemRemove=!1},dropItem:function(e){var t=JSON.parse(e.dataTransfer.getData("payload"));if("task"===t.type&&"none"===e.dataTransfer.dropEffect){var n=this.board.columns[t.fromColumnIndex].tasks;this.$store.commit("DELETE_TASK",{tasks:n,taskIndex:t.fromTaskIndex}),this.alertConfirm("Task deleted!"),this.activeItemRemove.activeItemRemove=!1}"column"===t.type&&"none"===e.dataTransfer.dropEffect&&(this.$store.commit("DELETE_COLUMN",{columnIndex:t.fromColumnIndex}),this.alertConfirm("Column deleted!"),this.activeItemRemove.activeItemRemove=!1)},downloadColumnTask:function(e,t){var n="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(e)),r=document.createElement("a");r.setAttribute("href",n),r.setAttribute("download",t+".json"),document.body.appendChild(r),r.click(),r.remove()},downloadBdTaskColumns:function(){this.downloadColumnTask(this.board,"bd-task-columns")},activeInputUpload:function(){this.$refs.inputUpload.click()},uploadBdJson:function(e){var t=this,n=e.target.files[0],r=n.type,o="application/json";if(o.includes(r)){var a=new FileReader;a.readAsText(n),a.onload=function(){var e=JSON.parse(a.result);t.$store.commit("IMPORT_DATA",{board:e}),t.alertConfirm("successful import!",1500)}}else this.alertConfirm("Invalid file type",1e3)},alertConfirm:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:700;this.textConfirm=e,this.changeStyleConfirm.opacity=1,setTimeout((function(){t.changeStyleConfirm.opacity=0}),n+=1e3)}},mounted:function(){}},ee=Z,te=(n("158c"),Object(u["a"])(ee,m,v,!1,null,null,null)),ne=te.exports;r["a"].use(p["a"]);var re=new p["a"]({mode:"history",base:"/clone-trello-vue/",routes:[{path:"/",name:"board",component:ne,children:[{path:"task/:id",name:"task",component:function(){return n.e("chunk-b8742bd6").then(n.bind(null,"1d21"))}}]}]});n("ac4d"),n("8a81"),n("5df3"),n("1c4c"),n("6b54");function oe(){return Math.random().toString(16).slice(2)}function ae(e){e.subscribe((function(e,t){return localStorage.setItem("board",JSON.stringify(t.board))}))}var se={name:"workshop",columns:[{name:"todo",tasks:[{description:"first",name:"first task",id:oe(),userAssigned:null},{description:"",name:"second task",id:oe(),userAssigned:null},{description:"",name:"and thrid",id:oe(),userAssigned:null}]},{name:"in-progress",tasks:[{description:"",name:"first task",id:oe(),userAssigned:null}]},{name:"done",tasks:[{description:"",name:"first task",id:oe(),userAssigned:null}]}]};function ie(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=le(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){i=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(i)throw a}}}}function le(e,t){if(e){if("string"===typeof e)return ue(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ue(e,t):void 0}}function ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}r["a"].use(b["a"]);var ce=JSON.parse(localStorage.getItem("board"))||se,de=new b["a"].Store({plugins:[ae],state:{board:ce},getters:{getTask:function(e){return function(t){var n,r=ie(e.board.columns);try{for(r.s();!(n=r.n()).done;){var o,a=n.value,s=ie(a.tasks);try{for(s.s();!(o=s.n()).done;){var i=o.value;if(i.id===t)return i}}catch(l){s.e(l)}finally{s.f()}}}catch(l){r.e(l)}finally{r.f()}}}},mutations:{CREATE_TASK:function(e,t){var n=t.tasks,r=t.name;n.push({name:r,id:oe(),description:""})},UPDATE_TASK:function(e,t){var n=t.task,r=t.key,o=t.value;n[r]=o},MOVE_TASK:function(e,t){var n=t.fromTasks,r=t.toTasks,o=t.fromTaskIndex,a=t.toTaskIndex,s=n.splice(o,1)[0];r.splice(a,0,s)},MOVE_COLUMN:function(e,t){var n=t.fromColumnIndex,r=t.toColumnIndex,o=e.board.columns,a=o.splice(n,1)[0];o.splice(r,0,a)},CREATE_COLUMN:function(e,t){var n=t.name;e.board.columns.push({name:n,tasks:[]})},DELETE_TASK:function(e,t){var n=t.tasks,r=t.taskIndex;n.splice(r,r+1)},DELETE_COLUMN:function(e,t){var n=t.columnIndex;e.board.columns.splice(n,1)},IMPORT_DATA:function(e,t){var n=t.board;e.board=n}}}),fe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",{staticClass:"button",class:e.typeClasses,attrs:{type:"button"}},[e._t("default")],2)},pe=[],me={props:{type:{type:String}},computed:{typeClasses:function(){switch(this.type){case"danger":return"bg-red";default:return"bg-teal"}}}},ve=me,he=(n("b9b4"),Object(u["a"])(ve,fe,pe,!1,null,"460433cb",null)),be=he.exports;r["a"].component("AppButton",be),r["a"].config.productionTip=!1,new r["a"]({router:re,store:de,render:function(e){return e(f)}}).$mount("#app")},"64a9":function(e,t,n){},"6eff":function(e,t,n){},b9b4:function(e,t,n){"use strict";n("6eff")},dec5:function(e,t,n){"use strict";n("17ee")},f9e1:function(e,t,n){"use strict";n("17ad")}});
//# sourceMappingURL=app.5e4210e0.js.map